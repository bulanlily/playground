<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.6.0_20) on Tue Jun 01 22:47:32 EDT 2010 -->
<TITLE>
ThreadMonitor
</TITLE>

<META NAME="date" CONTENT="2010-06-01">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../../stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="ThreadMonitor";
    }
}
</SCRIPT>
<NOSCRIPT>
</NOSCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">
<HR>


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/ThreadMonitor.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../bb/util/ThreadMeasurer.UnitTest.DoubleLockAquirer.html" title="class in bb.util"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../bb/util/ThreadMonitor.MonitorTask.html" title="class in bb.util"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../index.html?bb/util/ThreadMonitor.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="ThreadMonitor.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;<A HREF="#nested_class_summary">NESTED</A>&nbsp;|&nbsp;<A HREF="#field_summary">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;<A HREF="#field_detail">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
bb.util</FONT>
<BR>
Class ThreadMonitor</H2>
<PRE>
<A HREF="http://java.sun.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</A>
  <IMG SRC="../../resources/inherit.gif" ALT="extended by "><B>bb.util.ThreadMonitor</B>
</PRE>
<HR>
<DL>
<DT><PRE>public class <B>ThreadMonitor</B><DT>extends <A HREF="http://java.sun.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</A></DL>
</PRE>

<P>
Class which actively monitors the thread state of a JVM looking for issues.
 Reports events as they are detected to any registered <A HREF="../../bb/util/ThreadMonitorListener.html" title="interface in bb.util"><CODE>ThreadMonitorListener</CODE></A>s.
 <p>
 Monitoring is started by calling <A HREF="../../bb/util/ThreadMonitor.html#startMonitoring()"><CODE>startMonitoring</CODE></A>,
 is stopped by calling <A HREF="../../bb/util/ThreadMonitor.html#stopMonitoring()"><CODE>stopMonitoring</CODE></A>,
 and <A HREF="../../bb/util/ThreadMonitor.html#isMonitoring()"><CODE>isMonitoring</CODE></A> reports if monitoring is currently active.
 It is legitimate to start and stop monitoring as often as desired.
 <p>
 There are certain situations where the code has to record information
 but no reference to an appropriate external handler class is available.
 A prime example is if during the monitoring or listener callback a Throwable is caught.
 Rather than write the information to a console that could disappear when the application quits,
 each instance of this class instead maintains a <A HREF="../../bb/util/ThreadMonitor.html#logger2"><CODE>logger2</CODE></A> field where this information is written to.
 The current implementation logs to a file in the <A HREF="../../bb/util/logging/LogUtil.html#getLogDirectory()"><CODE>standard log directory</CODE></A>.
 <p>
 This class is multithread safe: almost every method (including private ones) is synchronized.
 The sole exceptions are the private fireXXX methods.
 These methods are called internally by this class and interact with arbitrary external ThreadMonitorListener classes.
 As a strategy to prevent deadlock,
 it is critical that the thread which calls these fireXXX methods initially owns no locks.
 Thus, these methods must be unsynchronized, since otherwise the lock on this ThreadMonitor instance would be held.
 <p>
<P>

<P>
<DL>
<DT><B>Author:</B></DT>
  <DD>Brent Boyer</DD>
</DL>
<HR>

<P>
<!-- ======== NESTED CLASS SUMMARY ======== -->

<A NAME="nested_class_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Nested Class Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;class</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../bb/util/ThreadMonitor.MonitorTask.html" title="class in bb.util">ThreadMonitor.MonitorTask</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Class which detects thread issues and calls the appropriate fireXXX event notification method.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;class</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../bb/util/ThreadMonitor.UnitTest.html" title="class in bb.util">ThreadMonitor.UnitTest</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;See the Overview page of the project's javadocs for a general description of this unit test class.</TD>
</TR>
</TABLE>
&nbsp;<!-- =========== FIELD SUMMARY =========== -->

<A NAME="field_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Field Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../bb/util/ThreadMonitor.html#deadlocked">deadlocked</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Records whether or not thread deadlock has been detected.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;long</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../bb/util/ThreadMonitor.html#instanceId">instanceId</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This instance's Id.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private static&nbsp;<A HREF="http://java.sun.com/javase/6/docs/api/java/util/concurrent/atomic/AtomicLong.html?is-external=true" title="class or interface in java.util.concurrent.atomic">AtomicLong</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../bb/util/ThreadMonitor.html#instanceIdNext">instanceIdNext</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The next ThreadMonitor instance's <A HREF="../../bb/util/ThreadMonitor.html#instanceId"><CODE>instanceId</CODE></A> field.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;long</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../bb/util/ThreadMonitor.html#interval">interval</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Specifies how often the thread state should be checked.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private static&nbsp;long</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../bb/util/ThreadMonitor.html#interval_default">interval_default</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default value for <A HREF="../../bb/util/ThreadMonitor.html#interval"><CODE>interval</CODE></A>.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;<A HREF="http://java.sun.com/javase/6/docs/api/java/util/Set.html?is-external=true" title="class or interface in java.util">Set</A>&lt;<A HREF="../../bb/util/ThreadMonitorListener.html" title="interface in bb.util">ThreadMonitorListener</A>&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../bb/util/ThreadMonitor.html#listeners">listeners</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Set of all <A HREF="../../bb/util/ThreadMonitorListener.html" title="interface in bb.util"><CODE>ThreadMonitorListener</CODE></A>s that are interested in thread events.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;<A HREF="../../bb/util/logging/Logger2.html" title="class in bb.util.logging">Logger2</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../bb/util/ThreadMonitor.html#logger2">logger2</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Logger where certain information (e.g. otherwise unhandleable errors) gets written to.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;<A HREF="../../bb/util/ThreadMonitor.MonitorTask.html" title="class in bb.util">ThreadMonitor.MonitorTask</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../bb/util/ThreadMonitor.html#monitorTask">monitorTask</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="../../bb/util/ThreadMonitor.MonitorTask.html" title="class in bb.util"><CODE>ThreadMonitor.MonitorTask</CODE></A> used to measure the thread state.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../bb/util/ThreadMonitor.html#nextLoggerId">nextLoggerId</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The next <A HREF="../../bb/util/ThreadMonitor.html#logger2"><CODE>logger2</CODE></A>'s Id.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../bb/util/ThreadMonitor.html#nextTimerId">nextTimerId</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The next <A HREF="../../bb/util/ThreadMonitor.html#timer"><CODE>timer</CODE></A> value's Id.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;<A HREF="http://java.sun.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../bb/util/ThreadMonitor.html#state">state</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Last thread state that was detected.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;<A HREF="http://java.sun.com/javase/6/docs/api/java/util/Timer.html?is-external=true" title="class or interface in java.util">Timer</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../bb/util/ThreadMonitor.html#timer">timer</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
</TABLE>
&nbsp;
<!-- ======== CONSTRUCTOR SUMMARY ======== -->

<A NAME="constructor_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Constructor Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><B><A HREF="../../bb/util/ThreadMonitor.html#ThreadMonitor()">ThreadMonitor</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Simply calls <code><A HREF="../../bb/util/ThreadMonitor.html#ThreadMonitor(bb.util.ThreadMeasurer, long)"><CODE>this</CODE></A>(new <A HREF="../../bb/util/ThreadMeasurer.html#ThreadMeasurer()"><CODE>ThreadMeasurer.ThreadMeasurer()</CODE></A>, <A HREF="../../bb/util/ThreadMonitor.html#interval_default"><CODE>interval_default</CODE></A>)</code>.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><B><A HREF="../../bb/util/ThreadMonitor.html#ThreadMonitor(bb.util.ThreadMeasurer, long)">ThreadMonitor</A></B>(<A HREF="../../bb/util/ThreadMeasurer.html" title="class in bb.util">ThreadMeasurer</A>&nbsp;measurer,
              long&nbsp;interval)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Constructor.</TD>
</TR>
</TABLE>
&nbsp;
<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Method Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../bb/util/ThreadMonitor.html#addListener(bb.util.ThreadMonitorListener)">addListener</A></B>(<A HREF="../../bb/util/ThreadMonitorListener.html" title="interface in bb.util">ThreadMonitorListener</A>&nbsp;listener)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Attempts to add listener to an internal set.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../bb/util/ThreadMonitor.html#fireOnDeadlocked(java.lang.String)">fireOnDeadlocked</A></B>(<A HREF="http://java.sun.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;state)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../bb/util/ThreadMonitor.html#fireOnMonitoringError(java.lang.Throwable)">fireOnMonitoringError</A></B>(<A HREF="http://java.sun.com/javase/6/docs/api/java/lang/Throwable.html?is-external=true" title="class or interface in java.lang">Throwable</A>&nbsp;t)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../bb/util/ThreadMonitor.html#fireOnMonitoringStarted()">fireOnMonitoringStarted</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../bb/util/ThreadMonitor.html#fireOnMonitoringStopped()">fireOnMonitoringStopped</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../bb/util/ThreadMonitor.html#fireOnNotDeadlocked(java.lang.String)">fireOnNotDeadlocked</A></B>(<A HREF="http://java.sun.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;state)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../bb/util/ThreadMonitor.html#fireOnThreadState(java.lang.String)">fireOnThreadState</A></B>(<A HREF="http://java.sun.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;state)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../bb/util/ThreadMonitor.html#flushLoggerIfCreated()">flushLoggerIfCreated</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Flushes <A HREF="../../bb/util/ThreadMonitor.html#logger2"><CODE>logger2</CODE></A> if and only if it has been created.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../bb/util/ThreadMonitor.html#getDeadlocked()">getDeadlocked</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;<A HREF="../../bb/util/ThreadMonitorListener.html" title="interface in bb.util">ThreadMonitorListener</A>[]</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../bb/util/ThreadMonitor.html#getListeners()">getListeners</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns a defensive copy of <A HREF="../../bb/util/ThreadMonitor.html#listeners"><CODE>listeners</CODE></A> for use by the fireXXX methods.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;<A HREF="../../bb/util/logging/Logger2.html" title="class in bb.util.logging">Logger2</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../bb/util/ThreadMonitor.html#getLogger2()">getLogger2</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns <A HREF="../../bb/util/ThreadMonitor.html#logger2"><CODE>logger2</CODE></A>, lazy initializing it if necessary.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;<A HREF="http://java.sun.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../bb/util/ThreadMonitor.html#getLoggerSuffix()">getLoggerSuffix</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns a suffix to assign to <A HREF="../../bb/util/ThreadMonitor.html#logger2"><CODE>logger2</CODE></A>'s filename whenever it is assigned.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="http://java.sun.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../bb/util/ThreadMonitor.html#getThreadState()">getThreadState</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns the thread state that was detected at the last check cycle.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;<A HREF="http://java.sun.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../bb/util/ThreadMonitor.html#getTimerName()">getTimerName</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns a name to assign to <A HREF="../../bb/util/ThreadMonitor.html#timer"><CODE>timer</CODE></A> whenever it is assigned.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../bb/util/ThreadMonitor.html#isDeadlocked()">isDeadlocked</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Reports whether or not thread deadlock was detected at the last check cycle.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../bb/util/ThreadMonitor.html#isMonitoring()">isMonitoring</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Reports whether or not this instance is actively monitoring threads.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../bb/util/ThreadMonitor.html#removeListener(bb.util.ThreadMonitorListener)">removeListener</A></B>(<A HREF="../../bb/util/ThreadMonitorListener.html" title="interface in bb.util">ThreadMonitorListener</A>&nbsp;listener)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Attempts to remove listener from an internal set.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../bb/util/ThreadMonitor.html#setDeadlocked(boolean)">setDeadlocked</A></B>(boolean&nbsp;deadlocked)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../bb/util/ThreadMonitor.html#setThreadState(java.lang.String)">setThreadState</A></B>(<A HREF="http://java.sun.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;state)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../bb/util/ThreadMonitor.html#startMonitoring()">startMonitoring</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Starts monitoring if it is currently not happening.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../bb/util/ThreadMonitor.html#stopMonitoring()">stopMonitoring</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Stops monitoring if it is currently happening.</TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_java.lang.Object"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Methods inherited from class java.lang.<A HREF="http://java.sun.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</A></B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><A HREF="http://java.sun.com/javase/6/docs/api/java/lang/Object.html?is-external=true#clone()" title="class or interface in java.lang">clone</A>, <A HREF="http://java.sun.com/javase/6/docs/api/java/lang/Object.html?is-external=true#equals(java.lang.Object)" title="class or interface in java.lang">equals</A>, <A HREF="http://java.sun.com/javase/6/docs/api/java/lang/Object.html?is-external=true#finalize()" title="class or interface in java.lang">finalize</A>, <A HREF="http://java.sun.com/javase/6/docs/api/java/lang/Object.html?is-external=true#getClass()" title="class or interface in java.lang">getClass</A>, <A HREF="http://java.sun.com/javase/6/docs/api/java/lang/Object.html?is-external=true#hashCode()" title="class or interface in java.lang">hashCode</A>, <A HREF="http://java.sun.com/javase/6/docs/api/java/lang/Object.html?is-external=true#notify()" title="class or interface in java.lang">notify</A>, <A HREF="http://java.sun.com/javase/6/docs/api/java/lang/Object.html?is-external=true#notifyAll()" title="class or interface in java.lang">notifyAll</A>, <A HREF="http://java.sun.com/javase/6/docs/api/java/lang/Object.html?is-external=true#toString()" title="class or interface in java.lang">toString</A>, <A HREF="http://java.sun.com/javase/6/docs/api/java/lang/Object.html?is-external=true#wait()" title="class or interface in java.lang">wait</A>, <A HREF="http://java.sun.com/javase/6/docs/api/java/lang/Object.html?is-external=true#wait(long)" title="class or interface in java.lang">wait</A>, <A HREF="http://java.sun.com/javase/6/docs/api/java/lang/Object.html?is-external=true#wait(long, int)" title="class or interface in java.lang">wait</A></CODE></TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ============ FIELD DETAIL =========== -->

<A NAME="field_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Field Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="interval_default"><!-- --></A><H3>
interval_default</H3>
<PRE>
private static final long <B>interval_default</B></PRE>
<DL>
<DD>Default value for <A HREF="../../bb/util/ThreadMonitor.html#interval"><CODE>interval</CODE></A>.
 <p>
 The current value for this constant is 10 seconds.
 See <A HREF="../../bb/util/ThreadMonitor.UnitTest.html#benchmark_impactOfMonitoring()"><CODE>benchmark_impactOfMonitoring</CODE></A> for why it was determined that this value should not burden a JVM excessively.
<P>
<DL>
<DT><B>See Also:</B><DD><A HREF="../../constant-values.html#bb.util.ThreadMonitor.interval_default">Constant Field Values</A></DL>
</DL>
<HR>

<A NAME="instanceIdNext"><!-- --></A><H3>
instanceIdNext</H3>
<PRE>
private static final <A HREF="http://java.sun.com/javase/6/docs/api/java/util/concurrent/atomic/AtomicLong.html?is-external=true" title="class or interface in java.util.concurrent.atomic">AtomicLong</A> <B>instanceIdNext</B></PRE>
<DL>
<DD>The next ThreadMonitor instance's <A HREF="../../bb/util/ThreadMonitor.html#instanceId"><CODE>instanceId</CODE></A> field.
 <p>
 Contract: is initialized to 0, and if this field has that value, it means that no instances have been created.
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="instanceId"><!-- --></A><H3>
instanceId</H3>
<PRE>
private final long <B>instanceId</B></PRE>
<DL>
<DD>This instance's Id.
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="nextTimerId"><!-- --></A><H3>
nextTimerId</H3>
<PRE>
private int <B>nextTimerId</B></PRE>
<DL>
<DD>The next <A HREF="../../bb/util/ThreadMonitor.html#timer"><CODE>timer</CODE></A> value's Id.
 <p>
 Contract: is initialized to 1, and if this field has that value, it means that timer has never been assigned.
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="timer"><!-- --></A><H3>
timer</H3>
<PRE>
private <A HREF="http://java.sun.com/javase/6/docs/api/java/util/Timer.html?is-external=true" title="class or interface in java.util">Timer</A> <B>timer</B></PRE>
<DL>
<DL>
</DL>
</DL>
<HR>

<A NAME="monitorTask"><!-- --></A><H3>
monitorTask</H3>
<PRE>
private final <A HREF="../../bb/util/ThreadMonitor.MonitorTask.html" title="class in bb.util">ThreadMonitor.MonitorTask</A> <B>monitorTask</B></PRE>
<DL>
<DD><A HREF="../../bb/util/ThreadMonitor.MonitorTask.html" title="class in bb.util"><CODE>ThreadMonitor.MonitorTask</CODE></A> used to measure the thread state.
 <p>
 Contract: is never null.
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="interval"><!-- --></A><H3>
interval</H3>
<PRE>
private final long <B>interval</B></PRE>
<DL>
<DD>Specifies how often the thread state should be checked.
 <p>
 Units: milliseconds.
 <p>
 Contract: is > 0.
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="state"><!-- --></A><H3>
state</H3>
<PRE>
private <A HREF="http://java.sun.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A> <B>state</B></PRE>
<DL>
<DD>Last thread state that was detected.
 Will be null if no such state was ever detected (e.g. if monitoring was never started).
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="deadlocked"><!-- --></A><H3>
deadlocked</H3>
<PRE>
private boolean <B>deadlocked</B></PRE>
<DL>
<DD>Records whether or not thread deadlock has been detected.
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="listeners"><!-- --></A><H3>
listeners</H3>
<PRE>
private final <A HREF="http://java.sun.com/javase/6/docs/api/java/util/Set.html?is-external=true" title="class or interface in java.util">Set</A>&lt;<A HREF="../../bb/util/ThreadMonitorListener.html" title="interface in bb.util">ThreadMonitorListener</A>&gt; <B>listeners</B></PRE>
<DL>
<DD>Set of all <A HREF="../../bb/util/ThreadMonitorListener.html" title="interface in bb.util"><CODE>ThreadMonitorListener</CODE></A>s that are interested in thread events.
 <p>
 Contract: is never null nor contains null elements.
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="nextLoggerId"><!-- --></A><H3>
nextLoggerId</H3>
<PRE>
private int <B>nextLoggerId</B></PRE>
<DL>
<DD>The next <A HREF="../../bb/util/ThreadMonitor.html#logger2"><CODE>logger2</CODE></A>'s Id.
 <p>
 Contract: is initialized to 1, and if this field has that value, it means that logger2 has never been assigned.
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="logger2"><!-- --></A><H3>
logger2</H3>
<PRE>
private <A HREF="../../bb/util/logging/Logger2.html" title="class in bb.util.logging">Logger2</A> <B>logger2</B></PRE>
<DL>
<DD>Logger where certain information (e.g. otherwise unhandleable errors) gets written to.
 <p>
 <i>Note:</i> this field is lazy initialized inside <A HREF="../../bb/util/ThreadMonitor.html#getLogger2()"><CODE>getLogger2</CODE></A>
 (because this field will never be used in well behaved applications),
 may be flushed in <A HREF="../../bb/util/ThreadMonitor.html#flushLoggerIfCreated()"><CODE>flushLoggerIfCreated</CODE></A> (if previously initialized),
 and is closed and nulled out in <A HREF="../../bb/util/ThreadMonitor.html#stopMonitoring()"><CODE>stopMonitoring</CODE></A> (if previously initialized).
 <i>All other code should always use getLogger2 and never directly access this field.</i>
<P>
<DL>
</DL>
</DL>

<!-- ========= CONSTRUCTOR DETAIL ======== -->

<A NAME="constructor_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Constructor Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="ThreadMonitor()"><!-- --></A><H3>
ThreadMonitor</H3>
<PRE>
public <B>ThreadMonitor</B>()</PRE>
<DL>
<DD>Simply calls <code><A HREF="../../bb/util/ThreadMonitor.html#ThreadMonitor(bb.util.ThreadMeasurer, long)"><CODE>this</CODE></A>(new <A HREF="../../bb/util/ThreadMeasurer.html#ThreadMeasurer()"><CODE>ThreadMeasurer.ThreadMeasurer()</CODE></A>, <A HREF="../../bb/util/ThreadMonitor.html#interval_default"><CODE>interval_default</CODE></A>)</code>.
<P>
</DL>
<HR>

<A NAME="ThreadMonitor(bb.util.ThreadMeasurer, long)"><!-- --></A><H3>
ThreadMonitor</H3>
<PRE>
public <B>ThreadMonitor</B>(<A HREF="../../bb/util/ThreadMeasurer.html" title="class in bb.util">ThreadMeasurer</A>&nbsp;measurer,
                     long&nbsp;interval)
              throws <A HREF="http://java.sun.com/javase/6/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang">IllegalArgumentException</A></PRE>
<DL>
<DD>Constructor.
 <p>
<P>
<DL>

<DT><B>Throws:</B>
<DD><CODE><A HREF="http://java.sun.com/javase/6/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang">IllegalArgumentException</A></CODE> - if measurer == null; interval <= 0</DL>
</DL>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Method Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="startMonitoring()"><!-- --></A><H3>
startMonitoring</H3>
<PRE>
public boolean <B>startMonitoring</B>()</PRE>
<DL>
<DD>Starts monitoring if it is currently not happening.
 Specifically, it will create a daemon <A HREF="http://java.sun.com/javase/6/docs/api/java/util/Timer.html?is-external=true" title="class or interface in java.util"><CODE>Timer</CODE></A> that executes <A HREF="../../bb/util/ThreadMonitor.html#monitorTask"><CODE>monitorTask</CODE></A> at a rate specified by <A HREF="../../bb/util/ThreadMonitor.html#interval"><CODE>interval</CODE></A>.
 <p>
 This method may safely be called multiple times (if the first call succeeds, subsequent calls do nothing).
 <p>
<P>
<DD><DL>

<DT><B>Returns:</B><DD>true if this call actually started the monitoring, false if this instance was already monitoring when called</DL>
</DD>
</DL>
<HR>

<A NAME="getTimerName()"><!-- --></A><H3>
getTimerName</H3>
<PRE>
private <A HREF="http://java.sun.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A> <B>getTimerName</B>()</PRE>
<DL>
<DD>Returns a name to assign to <A HREF="../../bb/util/ThreadMonitor.html#timer"><CODE>timer</CODE></A> whenever it is assigned.
 Attempts to return a value that is both unique to this instance
 as well as unique to each of this instance's timer values.
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="isMonitoring()"><!-- --></A><H3>
isMonitoring</H3>
<PRE>
public boolean <B>isMonitoring</B>()</PRE>
<DL>
<DD>Reports whether or not this instance is actively monitoring threads.
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="stopMonitoring()"><!-- --></A><H3>
stopMonitoring</H3>
<PRE>
public boolean <B>stopMonitoring</B>()</PRE>
<DL>
<DD>Stops monitoring if it is currently happening.
 <p>
 This method may safely be called multiple times (if the first call succeeds, subsequent calls do nothing).
 <p>
<P>
<DD><DL>

<DT><B>Returns:</B><DD>true if this call actually stopped the monitoring, false if this instance was not monitoring when called</DL>
</DD>
</DL>
<HR>

<A NAME="getThreadState()"><!-- --></A><H3>
getThreadState</H3>
<PRE>
public <A HREF="http://java.sun.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A> <B>getThreadState</B>()
                      throws <A HREF="http://java.sun.com/javase/6/docs/api/java/lang/IllegalStateException.html?is-external=true" title="class or interface in java.lang">IllegalStateException</A></PRE>
<DL>
<DD>Returns the thread state that was detected at the last check cycle.
 <p>
 This method never causes a new thread state measurement to be made,
 so it executes extremely quickly, and may be called frequently with low impact on the JVM.
 On the other hand, the result may be obsolete,
 especially if this instance was constructed with a large value for <A HREF="../../bb/util/ThreadMonitor.html#interval"><CODE>interval</CODE></A>.
 <p>
<P>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE><A HREF="http://java.sun.com/javase/6/docs/api/java/lang/IllegalStateException.html?is-external=true" title="class or interface in java.lang">IllegalStateException</A></CODE> - if instance is currently not monitoring (i.e. <A HREF="../../bb/util/ThreadMonitor.html#isMonitoring()"><CODE>isMonitoring</CODE></A> returns false)</DL>
</DD>
</DL>
<HR>

<A NAME="setThreadState(java.lang.String)"><!-- --></A><H3>
setThreadState</H3>
<PRE>
private void <B>setThreadState</B>(<A HREF="http://java.sun.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;state)</PRE>
<DL>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="isDeadlocked()"><!-- --></A><H3>
isDeadlocked</H3>
<PRE>
public boolean <B>isDeadlocked</B>()
                     throws <A HREF="http://java.sun.com/javase/6/docs/api/java/lang/IllegalStateException.html?is-external=true" title="class or interface in java.lang">IllegalStateException</A></PRE>
<DL>
<DD>Reports whether or not thread deadlock was detected at the last check cycle.
 <p>
 This method never causes a new thread state measurement to be made,
 so it executes extremely quickly, and may be called frequently with low impact on the JVM.
 On the other hand, the result may be obsolete,
 especially if this instance was constructed with a large value for <A HREF="../../bb/util/ThreadMonitor.html#interval"><CODE>interval</CODE></A>.
 <p>
<P>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE><A HREF="http://java.sun.com/javase/6/docs/api/java/lang/IllegalStateException.html?is-external=true" title="class or interface in java.lang">IllegalStateException</A></CODE> - if instance is currently not monitoring (i.e. <A HREF="../../bb/util/ThreadMonitor.html#isMonitoring()"><CODE>isMonitoring</CODE></A> returns false)</DL>
</DD>
</DL>
<HR>

<A NAME="getDeadlocked()"><!-- --></A><H3>
getDeadlocked</H3>
<PRE>
private boolean <B>getDeadlocked</B>()</PRE>
<DL>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="setDeadlocked(boolean)"><!-- --></A><H3>
setDeadlocked</H3>
<PRE>
private void <B>setDeadlocked</B>(boolean&nbsp;deadlocked)</PRE>
<DL>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="getListeners()"><!-- --></A><H3>
getListeners</H3>
<PRE>
private <A HREF="../../bb/util/ThreadMonitorListener.html" title="interface in bb.util">ThreadMonitorListener</A>[] <B>getListeners</B>()</PRE>
<DL>
<DD>Returns a defensive copy of <A HREF="../../bb/util/ThreadMonitor.html#listeners"><CODE>listeners</CODE></A> for use by the fireXXX methods.
 This is important both for multithread safety (see this class's javadocs)
 and for reasons explained in <a href="http://forum.java.sun.com/thread.jsp?forum=4&thread=406834&tstart=0&trange=15">this forum posting</a>.
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="addListener(bb.util.ThreadMonitorListener)"><!-- --></A><H3>
addListener</H3>
<PRE>
public boolean <B>addListener</B>(<A HREF="../../bb/util/ThreadMonitorListener.html" title="interface in bb.util">ThreadMonitorListener</A>&nbsp;listener)
                    throws <A HREF="http://java.sun.com/javase/6/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang">IllegalArgumentException</A></PRE>
<DL>
<DD>Attempts to add listener to an internal set.
 <p>
<P>
<DD><DL>

<DT><B>Returns:</B><DD>true if listener was added by this call to the internal set, false if already present
<DT><B>Throws:</B>
<DD><CODE><A HREF="http://java.sun.com/javase/6/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang">IllegalArgumentException</A></CODE> - if listener == null</DL>
</DD>
</DL>
<HR>

<A NAME="removeListener(bb.util.ThreadMonitorListener)"><!-- --></A><H3>
removeListener</H3>
<PRE>
public boolean <B>removeListener</B>(<A HREF="../../bb/util/ThreadMonitorListener.html" title="interface in bb.util">ThreadMonitorListener</A>&nbsp;listener)
                       throws <A HREF="http://java.sun.com/javase/6/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang">IllegalArgumentException</A></PRE>
<DL>
<DD>Attempts to remove listener from an internal set.
 <p>
<P>
<DD><DL>

<DT><B>Returns:</B><DD>true if listener was removed by this call from the internal set, false if already absent
<DT><B>Throws:</B>
<DD><CODE><A HREF="http://java.sun.com/javase/6/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang">IllegalArgumentException</A></CODE> - if listener == null</DL>
</DD>
</DL>
<HR>

<A NAME="fireOnMonitoringStarted()"><!-- --></A><H3>
fireOnMonitoringStarted</H3>
<PRE>
private void <B>fireOnMonitoringStarted</B>()</PRE>
<DL>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="fireOnMonitoringStopped()"><!-- --></A><H3>
fireOnMonitoringStopped</H3>
<PRE>
private void <B>fireOnMonitoringStopped</B>()</PRE>
<DL>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="fireOnMonitoringError(java.lang.Throwable)"><!-- --></A><H3>
fireOnMonitoringError</H3>
<PRE>
private void <B>fireOnMonitoringError</B>(<A HREF="http://java.sun.com/javase/6/docs/api/java/lang/Throwable.html?is-external=true" title="class or interface in java.lang">Throwable</A>&nbsp;t)</PRE>
<DL>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="fireOnThreadState(java.lang.String)"><!-- --></A><H3>
fireOnThreadState</H3>
<PRE>
private void <B>fireOnThreadState</B>(<A HREF="http://java.sun.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;state)</PRE>
<DL>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="fireOnDeadlocked(java.lang.String)"><!-- --></A><H3>
fireOnDeadlocked</H3>
<PRE>
private void <B>fireOnDeadlocked</B>(<A HREF="http://java.sun.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;state)</PRE>
<DL>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="fireOnNotDeadlocked(java.lang.String)"><!-- --></A><H3>
fireOnNotDeadlocked</H3>
<PRE>
private void <B>fireOnNotDeadlocked</B>(<A HREF="http://java.sun.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;state)</PRE>
<DL>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="getLogger2()"><!-- --></A><H3>
getLogger2</H3>
<PRE>
private <A HREF="../../bb/util/logging/Logger2.html" title="class in bb.util.logging">Logger2</A> <B>getLogger2</B>()</PRE>
<DL>
<DD>Returns <A HREF="../../bb/util/ThreadMonitor.html#logger2"><CODE>logger2</CODE></A>, lazy initializing it if necessary.
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="getLoggerSuffix()"><!-- --></A><H3>
getLoggerSuffix</H3>
<PRE>
private <A HREF="http://java.sun.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A> <B>getLoggerSuffix</B>()</PRE>
<DL>
<DD>Returns a suffix to assign to <A HREF="../../bb/util/ThreadMonitor.html#logger2"><CODE>logger2</CODE></A>'s filename whenever it is assigned.
 Attempts to return a value that is both unique to this instance
 as well as unique to each of this instance's logger2 values.
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="flushLoggerIfCreated()"><!-- --></A><H3>
flushLoggerIfCreated</H3>
<PRE>
private void <B>flushLoggerIfCreated</B>()</PRE>
<DL>
<DD>Flushes <A HREF="../../bb/util/ThreadMonitor.html#logger2"><CODE>logger2</CODE></A> if and only if it has been created.
<P>
<DD><DL>
</DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/ThreadMonitor.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../bb/util/ThreadMeasurer.UnitTest.DoubleLockAquirer.html" title="class in bb.util"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../bb/util/ThreadMonitor.MonitorTask.html" title="class in bb.util"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../index.html?bb/util/ThreadMonitor.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="ThreadMonitor.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;<A HREF="#nested_class_summary">NESTED</A>&nbsp;|&nbsp;<A HREF="#field_summary">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;<A HREF="#field_detail">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>

</BODY>
</HTML>
